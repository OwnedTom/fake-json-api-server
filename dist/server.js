var FakeJsonApiServer=function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=4)}([function(t,e){function n(t){return t instanceof Array}function r(t,e,r){if(n(t))for(var i=0;i<t.length;i++)e.call(r,t[i],i);else for(var s in t)t.hasOwnProperty(s)&&e.call(r,t[s],s)}function i(t,e,n){return n.forEach(function(n){e.hasOwnProperty(n)&&(t[n]=e[n])}),t}function s(t){for(var e=1;e<arguments.length;e++)r(arguments[e],function(e,n){void 0!==e&&(t[n]=e)});return t}function o(t,e){return t.filter(function(t){var n=!0;for(var r in e)if(e.hasOwnProperty(r)&&!(n=e[r]===t[r]))break;return n})}function a(t,e){var n=o(t,e);return n.length?n[0]:void 0}t.exports={assign:s,each:r,isArray:n,pick:i,where:o,findWhere:a}},function(t,e,n){var r,i,s;!function(n,o){i=[],r=o,void 0!==(s="function"==typeof r?r.apply(e,i):r)&&(t.exports=s)}(0,function(){function t(t,n){if(e(t))for(var r=0;r<t.length&&!1!==n(t[r],r);r++);else for(var i in t)t.hasOwnProperty(i)&&n(t[i],i)}function e(t){return t&&t.constructor===Array}function n(t){return"[object Object]"===Object.prototype.toString.call(t)}function r(t,e){return"function"==typeof t?t.call(e):t}function i(e){for(var n=1;n<arguments.length;n++)t(arguments[n],function(t,n){void 0!==t&&(e[n]=t)});return e}function s(n,r,i){var o;if(e(r))return o=!1,t(r,function(t){if(s(n,t))return o=!0,!1}),o;o=!0;var h=a.indexOf(r),c=h<0,p=h>=0&&u[h];return c?n instanceof r||(o=!1):"array"===p?!e(n)&&(o=!1):typeof n!==p&&(o=!1),o}function o(t,e,n){e=e||{};var r=e.hasOwnProperty("constructor")?e.constructor:function(){t?t.apply(this,arguments):(this.assignOptions&&(this.writeOptions.apply(this,arguments),this.optionRules&&this.validateOptions(this.options,this.optionRules)),this.initialize&&this.initialize.apply(this,arguments))};if(t){var s=function(){this.constructor=r};s.prototype=t.prototype,r.prototype=new s,i(r,t)}else i(e,h);return n&&i(r,n),i(r.prototype,e),r}var a=[String,Number,Boolean,Function,Object,Array],u=["string","number","boolean","function","object","array"],h={writeOptions:function(e){var s=r(this.defaults,this),o={},a=this;this.optionRules&&t(this.optionRules,function(t,e){o[e]=t.default}),this.optionRules&&t(this.optionRules,function(t,e){n(t)&&void 0!==t.default&&(o[e]=r(t.default,a))}),this.options=i({},s,o,e)},validateOptions:function(e,r){var i=[];return t(r,function(t,r){var o=e[r],a=typeof o;if(!1!==t.required||"undefined"!==a){var u=n(t)?t.type:t;u&&!s(o,u)&&i.push('Invalid type for option "'+r+'" ("'+a+'").'),t.validator&&!t.validator(o)&&i.push('Validation of option "'+r+'" failed.')}}),this.handleValidateOptionsErrors(i)},handleValidateOptionsErrors:function(t){if(t.length)throw new Error(t.join(" "))}};return function(t,e){var n=o(null,t,e);return n.extend=function(t,e){return o(this,t,e)},n}})},function(t,e,n){function r(t,e){var n=h(t)?t:[t],i=[];return e=e||n.map(function(t){return t.id+"@"+t.type}),u(n,function(t){u(t.relationships||{},function(t){u(h(t.data)?t.data:[t.data],function(t){if(t){var n=t.id+"@"+t.type;if(e.indexOf(n)<0){var o=s.find(t.type,t.id);i.push(o),e.push(n),o.relationships&&(i=i.concat(r(o,e)))}}})})}),i}var i=n(1),s=n(3),o=n(0),a=o.assign,u=o.each,h=o.isArray,c=i({initialize:function(t){this.type=t,this.data=s.getCollection(t).slice(),this.setSize(this.data.length)},setSize:function(t){return this.size=t,this},paginate:function(t,e){return t=void 0===t?0:parseInt(t,10),e=void 0===e?this.data.length:parseInt(e,10),this.data=this.data.slice(t,t+e),this},filter:function(t,e){return this.data=this.data.filter(function(n){var r=void 0!==n.attributes[t]?n.attributes[t]:n.relationships&&n.relationships[t]&&n.relationships[t].data;return e(r,n)}),this.size=this.data.length,this},renderForApi:function(){var t=r(this.data);return a({jsonapi:{version:"1.0"},meta:{total:String(this.size)},data:this.data},t.length?{included:t}:void 0)}}),p=i({initialize:function(t){this.type=t,this.data={}},getAttributes:function(){return this.data.attributes},getRelationships:function(){return this.data.relationships},getType:function(){return this.type},getId:function(){return this.data.id},isNew:function(){return!this.getId()},find:function(t){return this.data=s.find(this.getType(),t)||{},this},create:function(t){return a(this.data,{attributes:t.attributes,relationships:t.relationships}),this},edit:function(t){return a(this.data.attributes,t.attributes),a(this.data.relationships,t.relationships),this},save:function(){var t=this.isNew()?s.add(this):s.update(this);return this.find(t)},remove:function(){return s.remove(this),this},isEmpty:function(){return 0===Object.keys(this.data).length&&this.data.constructor===Object},setValidationRules:function(t){return this.validationRules=t,this},validate:function(t){var e=t.attributes||{},n=t.relationships;return this.validationErrors=[],u(this.validationRules||{},function(t,r){var i=n&&n[r],s=void 0!==e[r]?e[r]:i&&n[r].data,o=t.rule;void 0===s||o(s)||this.validationErrors.push({title:t.message,source:{pointer:"/data/"+(i?"relationships":"attributes")+"/"+r}})},this),this},hasValidationErrors:function(){return this.validationErrors&&this.validationErrors.length>0},getValidationErrors:function(){return this.validationErrors},renderForApi:function(){var t=r(this.data);return a({jsonapi:{version:"1.0"},data:this.data},t.length?{included:t}:void 0)}});t.exports={Collection:c,Model:p}},function(t,e,n){function r(t){c&&localStorage.setItem(c,JSON.stringify(t))}var i,s,o=n(0),a=o.assign,u=o.findWhere,h=o.each,c=void 0;t.exports={getCollection:function(t){return s[t]},find:function(t,e){return u(this.getCollection(t),{id:e})},update:function(t){var e=this.find(t.getType(),t.getId()),n=t.getRelationships();return a(e.attributes,t.getAttributes()),n&&(e.relationships=a({},e.relationships,n)),r(s),e.id},add:function(t){var e=this.getCollection(t.getType()),n=(0===e.length?1:parseInt(e[e.length-1].id)+1).toString(),i=t.getRelationships(),o={id:n,type:t.getType(),attributes:t.getAttributes()};return i&&(o.relationships=i),e.push(o),r(s),n},remove:function(t){var e=this.getCollection(t.getType()),n=this.find(t.getType(),t.getId());return e.splice(e.indexOf(n),1),r(s),t},reset:function(){return r(i),s=JSON.parse(JSON.stringify(i)),this},import:function(t){var e={};return h(t,function(t,n){e[n]="function"==typeof t.data?t.data(this.random):t.data},this),i=e,c?(localStorage.getItem(c)||r(e),s=JSON.parse(localStorage.getItem(c))):s=JSON.parse(JSON.stringify(e)),this},setStorageKey:function(t){c=t},clear:function(){i=null,s=null,c&&localStorage.removeItem(c)},random:{boolean:function(){return Math.random()>=.5},int:function(t,e){return parseInt(Math.random()*(e-t)+t,10)},id:function(t,e){return String(this.int(t,e))}}}},function(t,e,n){var r=n(5),i=n(1),s=n(9),o=n(3),a=n(10),u=n(0),h=u.assign,c=u.each,p=u.pick,l=i({defaults:{baseApiUrl:"/",storageKey:void 0,resources:{},getResourceSlug:function(t){return t},delay:void 0},constructor:function(t){this.options=h({},this.defaults,t),t.storageKey&&o.setStorageKey(t.storageKey),o.import(this.options.resources),this.start()},start:function(){var t=this,e=this.options,n=this.pretender=new r,i=function(e,n){t.trigger("request",e);var r;try{r=n(e)}catch(t){r=[500,{"Content-Type":"application/json"},t.toString()]}return t.trigger("response",r),r};return c(e.resources,function(t,r){var o=e.getResourceSlug(r),a=e.baseApiUrl+o,u=s.extend({resourceType:r}),h=new u(p({},t,["filters","validationRules"]));n.get(a,function(t){return i(t,function(){return h.list(t)})},e.delay),n.get(a+"/:id",function(t){return i(t,function(){return h.show(t.params.id,t)})},e.delay),["put","patch","post"].forEach(function(t){n[t](a+"/:id",function(t){return i(t,function(){return h.edit(t.params.id,t)})},e.delay)}),n.post(a,function(t){return i(t,function(){return h.create(t)})},e.delay),n.delete(a+"/:id",function(t){return i(t,function(){return h.delete(t.params.id,t)})},e.delay)}),this},stop:function(){return o.clear(),this.pretender.shutdown(),this},resetData:function(){return o.reset(),this}},{resetData:function(){return o.reset(),this}});a(l.prototype),t.exports=l},function(t,e,n){(function(e){!function(r){"use strict";function i(t){return t.default||t}function s(t){var e=document.createElement("a");e.href=t,e.host||(e.href=e.href);var n=e.pathname;"/"!==n.charAt(0)&&(n="/"+n);var r=e.host;return"80"!==e.port&&"443"!==e.port||(r=e.hostname),{host:r,protocol:e.protocol,search:e.search,hash:e.hash,href:e.href,pathname:n,fullpath:n+(e.search||"")+(e.hash||"")}}function o(){this.verbs={GET:new f,PUT:new f,POST:new f,DELETE:new f,PATCH:new f,HEAD:new f,OPTIONS:new f}}function a(){this._registries={}}function u(){this.hosts=new a;var t=arguments[arguments.length-1],e="object"==typeof t?t:null,n=e&&!1===e.trackRequests,i={push:function(){},length:0};this.handlers=[],this.handledRequests=n?i:[],this.passthroughRequests=n?i:[],this.unhandledRequests=n?i:[],this.requestReferences=[],this.forcePassthrough=e&&!0===e.forcePassthrough,this.disableUnhandled=e&&!0===e.disableUnhandled,this._nativeXMLHttpRequest=r.XMLHttpRequest,this.running=!1;var s={pretender:this};this.ctx=s,r.XMLHttpRequest=h(s),this.running=!0;for(var o=e?arguments.length-1:arguments.length,u=0;u<o;u++)this.map(arguments[u])}function h(t){function e(){y.call(this)}function n(e){function n(t,e,n){for(var r=0;r<t.length;r++){var i=t[r];i in e&&(n[i]=e[i])}}function r(t,e,n){t.dispatchEvent(n),t["on"+e]&&t["on"+e](n)}var i=["error","timeout","abort","readystatechange"],s=[],o=["readyState","responseText","responseXML","status","statusText"],a=e._passthroughRequest=new t.pretender._nativeXMLHttpRequest;a.open(e.method,e.url,e.async,e.username,e.password),"arraybuffer"===e.responseType&&(o=["readyState","response","status","statusText"],a.responseType=e.responseType),"onload"in a&&i.push("load"),e.async&&"arraybuffer"!==e.responseType&&(i.push("progress"),s.push("progress"));var u;for(u=0;u<i.length;u++)!function(t){a["on"+t]=function(i){n(o,a,e),r(e,t,i)}}(i[u]);for(u=0;u<s.length;u++)!function(t){a.upload&&(a.upload["on"+t]=function(n){r(e.upload,t,n)})}(s[u]);e.async&&(a.timeout=e.timeout,a.withCredentials=e.withCredentials);for(var h in e.requestHeaders)a.setRequestHeader(h,e.requestHeaders[h]);return a}return e.prototype=Object.create(y.prototype),e.prototype.constructor=e,e.prototype.send=function(){if(!t.pretender.running)throw new Error("You shut down a Pretender instance while there was a pending request. That request just tried to complete. Check to see if you accidentally shut down a pretender earlier than you intended to");if(y.prototype.send.apply(this,arguments),t.pretender.checkPassthrough(this)){var e=n(this);e.send.apply(e,arguments)}else t.pretender.handleRequest(this)},e.prototype._passthroughCheck=function(t,e){return this._passthroughRequest?this._passthroughRequest[t].apply(this._passthroughRequest,e):y.prototype[t].apply(this,e)},e.prototype.abort=function(){return this._passthroughCheck("abort",arguments)},e.prototype.getResponseHeader=function(){return this._passthroughCheck("getResponseHeader",arguments)},e.prototype.getAllResponseHeaders=function(){return this._passthroughCheck("getAllResponseHeaders",arguments)},t.pretender._nativeXMLHttpRequest.prototype._passthroughCheck&&console.warn("You created a second Pretender instance while there was already one running. Running two Pretender servers at once will lead to unexpected results and will be removed entirely in a future major version.Please call .shutdown() on your instances when you no longer need them to respond."),e}function c(t){return function(e,n,r){return this.register(t,e,n,r)}}function p(t,e,n){setTimeout(function(){if(!t.aborted&&!t.status){var r=(new Date).getTime()-e.getTime();t.upload._progress(!0,r,n),t._progress(!0,r,n),p(t,e,n)}},50)}function l(t){return"[object Array]"===Object.prototype.toString.call(t)}var d=void 0!==r&&void 0!==e&&"[object Object]"===Object.prototype.toString.call(e),f=d?i(n(7)):r.RouteRecognizer,y=d?i(n(8)):r.FakeXMLHttpRequest;a.prototype.forURL=function(t){var e=s(t).host,n=this._registries[e];return void 0===n&&(n=this._registries[e]=new o(e)),n.verbs};var v={};u.prototype={get:c("GET"),post:c("POST"),put:c("PUT"),delete:c("DELETE"),patch:c("PATCH"),head:c("HEAD"),options:c("OPTIONS"),map:function(t){t.call(this)},register:function(t,e,n,r){if(!n)throw new Error("The function you tried passing to Pretender to handle "+t+" "+e+" is undefined or missing.");return n.numberOfCalls=0,n.async=r,this.handlers.push(n),this.hosts.forURL(e)[t].add([{path:s(e).fullpath,handler:n}]),n},passthrough:v,checkPassthrough:function(t){var e=t.method.toUpperCase(),n=s(t.url).fullpath,r=this.hosts.forURL(t.url)[e].recognize(n),i=r&&r[0];return!!(i&&i.handler===v||this.forcePassthrough)&&(this.passthroughRequests.push(t),this.passthroughRequest(e,n,t),!0)},handleRequest:function(t){var e=t.method.toUpperCase(),n=t.url,r=this._handlerFor(e,n,t);if(r){r.handler.numberOfCalls++;var i=r.handler.async;this.handledRequests.push(t);var s=this,o=function(r){if(!l(r)){throw new Error("Nothing returned by handler for "+n+". Remember to `return [status, headers, body];` in your route handler.")}var o=r[0],a=s.prepareHeaders(r[1]),u=s.prepareBody(r[2],a);s.handleResponse(t,i,function(){t.respond(o,a,u),s.handledRequest(e,n,t)})};try{var a=r.handler(t);a&&"function"==typeof a.then?a.then(function(t){o(t)}):o(a)}catch(r){this.erroredRequest(e,n,t,r),this.resolve(t)}}else this.disableUnhandled||(this.unhandledRequests.push(t),this.unhandledRequest(e,n,t))},handleResponse:function(t,e,n){var r="function"==typeof e?e():e;if(!1===(r="boolean"==typeof r||"number"==typeof r?r:0))n();else{var i=this;i.requestReferences.push({request:t,callback:n}),!0!==r&&(p(t,new Date,r),setTimeout(function(){i.resolve(t)},r))}},resolve:function(t){for(var e=0,n=this.requestReferences.length;e<n;e++){var r=this.requestReferences[e];if(r.request===t){r.callback(),this.requestReferences.splice(e,1);break}}},requiresManualResolution:function(t,e){var n=this._handlerFor(t.toUpperCase(),e,{});if(!n)return!1;var r=n.handler.async;return"function"==typeof r?!0===r():!0===r},prepareBody:function(t){return t},prepareHeaders:function(t){return t},handledRequest:function(){},passthroughRequest:function(){},unhandledRequest:function(t,e){throw new Error("Pretender intercepted "+t+" "+e+" but no handler was defined for this type of request")},erroredRequest:function(t,e,n,r){throw r.message="Pretender intercepted "+t+" "+e+" but encountered an error: "+r.message,r},_handlerFor:function(t,e,n){var r=this.hosts.forURL(e)[t],i=r.recognize(s(e).fullpath),o=i?i[0]:null;return o&&(n.params=o.params,n.queryParams=i.queryParams),o},shutdown:function(){r.XMLHttpRequest=this._nativeXMLHttpRequest,this.ctx.pretender=void 0,this.running=!1}},u.parseURL=s,u.Hosts=a,u.Registry=o,t.exports=u,r.Pretender=u}(self)}).call(e,n(6))},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(t){if(c===setTimeout)return setTimeout(t,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(e){try{return c.call(null,t,0)}catch(e){return c.call(this,t,0)}}}function s(t){if(p===clearTimeout)return clearTimeout(t);if((p===r||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(t);try{return p(t)}catch(e){try{return p.call(null,t)}catch(e){return p.call(this,t)}}}function o(){y&&d&&(y=!1,d.length?f=d.concat(f):v=-1,f.length&&a())}function a(){if(!y){var t=i(o);y=!0;for(var e=f.length;e;){for(d=f,f=[];++v<e;)d&&d[v].run();v=-1,e=f.length}d=null,y=!1,s(t)}}function u(t,e){this.fun=t,this.array=e}function h(){}var c,p,l=t.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(t){c=n}try{p="function"==typeof clearTimeout?clearTimeout:r}catch(t){p=r}}();var d,f=[],y=!1,v=-1;l.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];f.push(new u(t,e)),1!==f.length||y||i(a)},u.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=h,l.addListener=h,l.once=h,l.off=h,l.removeListener=h,l.removeAllListeners=h,l.emit=h,l.prependListener=h,l.prependOnceListener=h,l.listeners=function(t){return[]},l.binding=function(t){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(t){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},function(t,e,n){"use strict";function r(){var t=m(null);return t.__=void 0,delete t.__,t}function i(t,e,n){function r(r,s){var o=t+r;if(!s)return new E(o,e,n);s(i(o,e,n))}return r}function s(t,e,n){for(var r=0,i=0;i<t.length;i++)r+=t[i].path.length;e=e.substr(r);var s={path:e,handler:n};t.push(s)}function o(t,e,n,r){for(var i=e.routes,a=Object.keys(i),u=0;u<a.length;u++){var h=a[u],c=t.slice();s(c,h,i[h]);var p=e.children[h];p?o(c,p,n,r):n.call(r,c)}}function a(t){return t.split("/").map(u).join("/")}function u(t){return t.length<3||-1===t.indexOf("%")?t:decodeURIComponent(t).replace(T,encodeURIComponent)}function h(t){return encodeURIComponent(t).replace(S,decodeURIComponent)}function c(t,e){if("object"!=typeof t||null===t)throw new Error("You must pass an object as the second argument to `generate`.");if(!_.call(t,e))throw new Error("You must provide param `"+e+"` to `generate`.");var n=t[e],r="string"==typeof n?n:""+n;if(0===r.length)throw new Error("You must provide a param `"+e+"`.");return r}function p(t,e,n){e.length>0&&47===e.charCodeAt(0)&&(e=e.substr(1));for(var r=e.split("/"),i=void 0,s=void 0,o=0;o<r.length;o++){var a=r[o],h=0,c=0;c=""===a?4:58===a.charCodeAt(0)?1:42===a.charCodeAt(0)?2:0,h=2<<c,12&h&&(a=a.slice(1),i=i||[],i.push(a),s=s||[],s.push(0!=(4&h))),14&h&&n[c]++,t.push({type:c,value:u(a)})}return{names:i||D,shouldDecodes:s||D}}function l(t,e,n){return t.char===e&&t.negate===n}function d(t,e){return t.negate?t.char!==e&&-1!==t.char:t.char===e||-1===t.char}function f(t){return t.sort(function(t,e){var n=t.types||[0,0,0],r=n[0],i=n[1],s=n[2],o=e.types||[0,0,0],a=o[0],u=o[1],h=o[2];if(s!==h)return s-h;if(s){if(r!==a)return a-r;if(i!==u)return u-i}return i!==u?i-u:r!==a?a-r:0})}function y(t,e){for(var n=[],r=0,i=t.length;r<i;r++){var s=t[r];n=n.concat(s.match(e))}return n}function v(t,e,n){var r=t.handlers,i=t.regex();if(!i||!r)throw new Error("state not initialized");var s=e.match(i),o=1,a=new P(n);a.length=r.length;for(var u=0;u<r.length;u++){var h=r[u],c=h.names,p=h.shouldDecodes,l=x,d=!1;if(c!==D&&p!==D)for(var f=0;f<c.length;f++){d=!0;var y=c[f],v=s&&s[o++];l===x&&(l={}),L.ENCODE_AND_DECODE_PATH_SEGMENTS&&p[f]?l[y]=v&&decodeURIComponent(v):l[y]=v}a[u]={handler:h.handler,params:l,isDynamic:d}}return a}function g(t){t=t.replace(/\+/gm,"%20");var e;try{e=decodeURIComponent(t)}catch(t){e=""}return e}Object.defineProperty(e,"__esModule",{value:!0});var m=Object.create,E=function(t,e,n){this.path=t,this.matcher=e,this.delegate=n};E.prototype.to=function(t,e){var n=this.delegate;if(n&&n.willAddRoute&&(t=n.willAddRoute(this.matcher.target,t)),this.matcher.add(this.path,t),e){if(0===e.length)throw new Error("You must have an argument in the function passed to `to`");this.matcher.addChild(this.path,t,e,this.delegate)}};var w=function(t){this.routes=r(),this.children=r(),this.target=t};w.prototype.add=function(t,e){this.routes[t]=e},w.prototype.addChild=function(t,e,n,r){var s=new w(e);this.children[t]=s;var o=i(t,s,r);r&&r.contextEntered&&r.contextEntered(e,o),n(o)};var R=function(t,e){var n=new w;t(i("",n,this.delegate)),o([],n,function(t){e?e(this,t):this.add(t)},this)},T=/%|\//g,S=/%(?:2(?:4|6|B|C)|3(?:B|D|A)|40)/g,b=/(\/|\.|\*|\+|\?|\||\(|\)|\[|\]|\{|\}|\\)/g,O=Array.isArray,_=Object.prototype.hasOwnProperty,C=[];C[0]=function(t,e){for(var n=e,r=t.value,i=0;i<r.length;i++){var s=r.charCodeAt(i);n=n.put(s,!1,!1)}return n},C[1]=function(t,e){return e.put(47,!0,!0)},C[2]=function(t,e){return e.put(-1,!1,!0)},C[4]=function(t,e){return e};var A=[];A[0]=function(t){return t.value.replace(b,"\\$1")},A[1]=function(){return"([^/]+)"},A[2]=function(){return"(.+)"},A[4]=function(){return""};var q=[];q[0]=function(t){return t.value},q[1]=function(t,e){var n=c(e,t.value);return L.ENCODE_AND_DECODE_PATH_SEGMENTS?h(n):n},q[2]=function(t,e){return c(e,t.value)},q[4]=function(){return""};var x=Object.freeze({}),D=Object.freeze([]),N=function(t,e,n,r,i){this.states=t,this.id=e,this.char=n,this.negate=r,this.nextStates=i?e:null,this.pattern="",this._regex=void 0,this.handlers=void 0,this.types=void 0};N.prototype.regex=function(){return this._regex||(this._regex=new RegExp(this.pattern)),this._regex},N.prototype.get=function(t,e){var n=this,r=this.nextStates;if(null!==r)if(O(r))for(var i=0;i<r.length;i++){var s=n.states[r[i]];if(l(s,t,e))return s}else{var o=this.states[r];if(l(o,t,e))return o}},N.prototype.put=function(t,e,n){var r;if(r=this.get(t,e))return r;var i=this.states;return r=new N(i,i.length,t,e,n),i[i.length]=r,null==this.nextStates?this.nextStates=r.id:O(this.nextStates)?this.nextStates.push(r.id):this.nextStates=[this.nextStates,r.id],r},N.prototype.match=function(t){var e=this,n=this.nextStates;if(!n)return[];var r=[];if(O(n))for(var i=0;i<n.length;i++){var s=e.states[n[i]];d(s,t)&&r.push(s)}else{var o=this.states[n];d(o,t)&&r.push(o)}return r};var P=function(t){this.length=0,this.queryParams=t||{}};P.prototype.splice=Array.prototype.splice,P.prototype.slice=Array.prototype.slice,P.prototype.push=Array.prototype.push;var L=function(){this.names=r();var t=[],e=new N(t,0,-1,!0,!1);t[0]=e,this.states=t,this.rootState=e};L.prototype.add=function(t,e){for(var n=this.rootState,r="^",i=[0,0,0],s=new Array(t.length),o=[],a=!0,u=0,h=0;h<t.length;h++){for(var c=t[h],l=p(o,c.path,i),d=l.names,f=l.shouldDecodes;u<o.length;u++){var y=o[u];4!==y.type&&(a=!1,n=n.put(47,!1,!1),r+="/",n=C[y.type](y,n),r+=A[y.type](y))}s[h]={handler:c.handler,names:d,shouldDecodes:f}}a&&(n=n.put(47,!1,!1),r+="/"),n.handlers=s,n.pattern=r+"$",n.types=i;var v;"object"==typeof e&&null!==e&&e.as&&(v=e.as),v&&(this.names[v]={segments:o,handlers:s})},L.prototype.handlersFor=function(t){var e=this.names[t];if(!e)throw new Error("There is no route named "+t);for(var n=new Array(e.handlers.length),r=0;r<e.handlers.length;r++){var i=e.handlers[r];n[r]=i}return n},L.prototype.hasRoute=function(t){return!!this.names[t]},L.prototype.generate=function(t,e){var n=this.names[t],r="";if(!n)throw new Error("There is no route named "+t);for(var i=n.segments,s=0;s<i.length;s++){var o=i[s];4!==o.type&&(r+="/",r+=q[o.type](o,e))}return"/"!==r.charAt(0)&&(r="/"+r),e&&e.queryParams&&(r+=this.generateQueryString(e.queryParams)),r},L.prototype.generateQueryString=function(t){var e=[],n=Object.keys(t);n.sort();for(var r=0;r<n.length;r++){var i=n[r],s=t[i];if(null!=s){var o=encodeURIComponent(i);if(O(s))for(var a=0;a<s.length;a++){var u=i+"[]="+encodeURIComponent(s[a]);e.push(u)}else o+="="+encodeURIComponent(s),e.push(o)}}return 0===e.length?"":"?"+e.join("&")},L.prototype.parseQueryString=function(t){for(var e=t.split("&"),n={},r=0;r<e.length;r++){var i=e[r].split("="),s=g(i[0]),o=s.length,a=!1,u=void 0;1===i.length?u="true":(o>2&&"[]"===s.slice(o-2)&&(a=!0,s=s.slice(0,o-2),n[s]||(n[s]=[])),u=i[1]?g(i[1]):""),a?n[s].push(u):n[s]=u}return n},L.prototype.recognize=function(t){var e,n=[this.rootState],r={},i=!1,s=t.indexOf("#");-1!==s&&(t=t.substr(0,s));var o=t.indexOf("?");if(-1!==o){var u=t.substr(o+1,t.length);t=t.substr(0,o),r=this.parseQueryString(u)}"/"!==t.charAt(0)&&(t="/"+t);var h=t;L.ENCODE_AND_DECODE_PATH_SEGMENTS?t=a(t):(t=decodeURI(t),h=decodeURI(h));var c=t.length;c>1&&"/"===t.charAt(c-1)&&(t=t.substr(0,c-1),h=h.substr(0,h.length-1),i=!0);for(var p=0;p<t.length&&(n=y(n,t.charCodeAt(p)),n.length);p++);for(var l=[],d=0;d<n.length;d++)n[d].handlers&&l.push(n[d]);n=f(l);var g=l[0];return g&&g.handlers&&(i&&g.pattern&&"(.+)$"===g.pattern.slice(-5)&&(h+="/"),e=v(g,h,r)),e},L.VERSION="0.3.3",L.ENCODE_AND_DECODE_PATH_SEGMENTS=!0,L.Normalizer={normalizeSegment:u,normalizePath:a,encodePathSegment:h},L.prototype.map=R,e.default=L},function(t,e,n){!function(e,n){t.exports=n()}(0,function(){"use strict";function t(t){var e;if("undefined"!=typeof DOMParser){e=(new DOMParser).parseFromString(t,"text/xml")}else e=new ActiveXObject("Microsoft.XMLDOM"),e.async="false",e.loadXML(t);return e}function e(t,e){e.addEventListener(t,function(n){var r=e["on"+t];r&&"function"==typeof r&&r.call(n.target,n)})}function n(){this._eventListeners={};for(var t=["loadstart","progress","load","abort","loadend"],n=t.length-1;n>=0;n--)e(t[n],this)}function r(){n.call(this),this.readyState=r.UNSENT,this.requestHeaders={},this.requestBody=null,this.status=0,this.statusText="",this.upload=new n}function i(t){if(t.readyState!==r.OPENED)throw new Error("INVALID_STATE_ERR");if(t.sendFlag)throw new Error("INVALID_STATE_ERR")}function s(t){if(t.readyState==r.DONE)throw new Error("Request done")}function o(t){if(t.async&&t.readyState!=r.HEADERS_RECEIVED)throw new Error("No headers received")}function a(t){if("string"!=typeof t){var e=new Error("Attempted to respond to fake XMLHttpRequest with "+t+", which is not a string.");throw e.name="InvalidBodyException",e}}/**
   * Minimal Event interface implementation
   *
   * Original implementation by Sven Fuchs: https://gist.github.com/995028
   * Modifications and tests by Christian Johansen.
   *
   * @author Sven Fuchs (svenfuchs@artweb-design.de)
   * @author Christian Johansen (christian@cjohansen.no)
   * @license BSD
   *
   * Copyright (c) 2011 Sven Fuchs, Christian Johansen
   */
var u=function(t,e,n,r){this.type=t,this.bubbles=e,this.cancelable=n,this.target=r};u.prototype={stopPropagation:function(){},preventDefault:function(){this.defaultPrevented=!0}};var h={100:"Continue",101:"Switching Protocols",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",300:"Multiple Choice",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",422:"Unprocessable Entity",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported"},c={"Accept-Charset":!0,"Accept-Encoding":!0,Connection:!0,"Content-Length":!0,Cookie:!0,Cookie2:!0,"Content-Transfer-Encoding":!0,Date:!0,Expect:!0,Host:!0,"Keep-Alive":!0,Referer:!0,TE:!0,Trailer:!0,"Transfer-Encoding":!0,Upgrade:!0,"User-Agent":!0,Via:!0};n.prototype={addEventListener:function(t,e){this._eventListeners[t]=this._eventListeners[t]||[],this._eventListeners[t].push(e)},removeEventListener:function(t,e){for(var n=this._eventListeners[t]||[],r=0,i=n.length;r<i;++r)if(n[r]==e)return n.splice(r,1)},dispatchEvent:function(t){for(var e=t.type,n=this._eventListeners[e]||[],r=0;r<n.length;r++)"function"==typeof n[r]?n[r].call(this,t):n[r].handleEvent(t);return!!t.defaultPrevented},_progress:function(t,e,n){var r=new u("progress");r.target=this,r.lengthComputable=t,r.loaded=e,r.total=n,this.dispatchEvent(r)}},r.prototype=new n,r.UNSENT=0,r.OPENED=1,r.HEADERS_RECEIVED=2,r.LOADING=3,r.DONE=4;var p={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4,async:!0,withCredentials:!1,open:function(t,e,n,i,s){this.method=t,this.url=e,this.async="boolean"!=typeof n||n,this.username=i,this.password=s,this.responseText=null,this.responseXML=null,this.requestHeaders={},this.sendFlag=!1,this._readyStateChange(r.OPENED)},setRequestHeader:function(t,e){if(i(this),c[t]||/^(Sec-|Proxy-)/.test(t))throw new Error('Refused to set unsafe header "'+t+'"');this.requestHeaders[t]?this.requestHeaders[t]+=","+e:this.requestHeaders[t]=e},send:function(t){if(i(this),!/^(get|head)$/i.test(this.method)){var e=!1;Object.keys(this.requestHeaders).forEach(function(t){"content-type"===t.toLowerCase()&&(e=!0)}),e||(t||"").toString().match("FormData")||(this.requestHeaders["Content-Type"]="text/plain;charset=UTF-8"),this.requestBody=t}this.errorFlag=!1,this.sendFlag=this.async,this._readyStateChange(r.OPENED),"function"==typeof this.onSend&&this.onSend(this),this.dispatchEvent(new u("loadstart",!1,!1,this))},abort:function(){this.aborted=!0,this.responseText=null,this.errorFlag=!0,this.requestHeaders={},this.readyState>r.UNSENT&&this.sendFlag&&(this._readyStateChange(r.DONE),this.sendFlag=!1),this.readyState=r.UNSENT,this.dispatchEvent(new u("abort",!1,!1,this)),"function"==typeof this.onerror&&this.onerror()},getResponseHeader:function(t){if(this.readyState<r.HEADERS_RECEIVED)return null;if(/^Set-Cookie2?$/i.test(t))return null;t=t.toLowerCase();for(var e in this.responseHeaders)if(e.toLowerCase()==t)return this.responseHeaders[e];return null},getAllResponseHeaders:function(){if(this.readyState<r.HEADERS_RECEIVED)return"";var t="";for(var e in this.responseHeaders)this.responseHeaders.hasOwnProperty(e)&&!/^Set-Cookie2?$/i.test(e)&&(t+=e+": "+this.responseHeaders[e]+"\r\n");return t},overrideMimeType:function(t){"string"==typeof t&&(this.forceMimeType=t.toLowerCase())},_readyStateChange:function(t){this.readyState=t,"function"==typeof this.onreadystatechange&&this.onreadystatechange(new u("readystatechange")),this.dispatchEvent(new u("readystatechange")),this.readyState==r.DONE&&(this.dispatchEvent(new u("load",!1,!1,this)),this.dispatchEvent(new u("loadend",!1,!1,this)))},_setResponseHeaders:function(t){this.responseHeaders={};for(var e in t)t.hasOwnProperty(e)&&(this.responseHeaders[e]=t[e]);this.forceMimeType&&(this.responseHeaders["Content-Type"]=this.forceMimeType),this.async?this._readyStateChange(r.HEADERS_RECEIVED):this.readyState=r.HEADERS_RECEIVED},_setResponseBody:function(e){s(this),o(this),a(e);var n=this.chunkSize||10,i=0;this.responseText="";do{this.async&&this._readyStateChange(r.LOADING),this.responseText+=e.substring(i,i+n),i+=n}while(i<e.length);var u=this.getResponseHeader("Content-Type");if(this.responseText&&(!u||/(text\/xml)|(application\/xml)|(\+xml)/.test(u)))try{this.responseXML=t(this.responseText)}catch(t){}this.async?this._readyStateChange(r.DONE):this.readyState=r.DONE},respond:function(t,e,n){this._setResponseHeaders(e||{}),this.status="number"==typeof t?t:200,this.statusText=h[this.status],this._setResponseBody(n||"")}};for(var l in p)r.prototype[l]=p[l];return r})},function(t,e,n){var r=n(1),i=n(2).Collection,s=n(2).Model,o=n(0),a=o.assign,u=o.each;t.exports=r({resourceType:null,assignOptions:!0,defaults:{filters:{},validationRules:{}},getRequestBodyData:function(t){var e,n=t.requestBody;return e="undefined"!=typeof window&&n instanceof window.FormData?JSON.parse(n.get("data")):"string"==typeof n?JSON.parse(n).data:n.data,"string"==typeof e&&(e=JSON.parse(e)),e},list:function(t){var e=new i(this.resourceType),n=t.queryParams;u(this.options.filters,function(t,r){var i=n.filter&&n.filter[r]?n.filter[r]:n["filter["+r+"]"];i&&e.filter(r,function(e,n){return t(e,i,n)})});var r=n.page?n.page.offset:n["page[offset]"],s=n.page?n.page.limit:n["page[limit]"];return e.paginate(r,s),this.response(t,e.renderForApi())},show:function(t,e){var n=new s(this.resourceType).find(t);return n.isEmpty()?this.response(e,"",{statusCode:404}):this.response(e,n.renderForApi())},edit:function(t,e){var n=this.getRequestBodyData(e),r=new s(this.resourceType).find(t);return r.setValidationRules(this.options.validationRules).validate(n),r.hasValidationErrors()?this.response(e,{errors:r.getValidationErrors()},{statusCode:409}):(r.edit(n).save(),this.response(e,r.renderForApi()))},create:function(t){var e=this.getRequestBodyData(t),n=new s(this.resourceType).create(e);return n.setValidationRules(this.options.validationRules).validate(e),n.hasValidationErrors()?this.response(t,{errors:n.getValidationErrors()},{statusCode:409}):(n.save(),this.response(t,n.renderForApi()))},delete:function(t,e){return new s(this.resourceType).find(t).remove(),this.response(e,"",{statusCode:204})},response:function(t,e,n){return n=a({statusCode:200,headers:{"Content-Type":"application/json"}},n),[n.statusCode,n.headers,JSON.stringify(e)]}})},function(t,e,n){var r,i,s;!function(n,o){i=[],r=o,void 0!==(s="function"==typeof r?r.apply(e,i):r)&&(t.exports=s)}(0,function(){function t(t,e){if(t instanceof Array)for(var n=0;n<t.length;n++)e(t[n],n);else for(var r in t)t.hasOwnProperty(r)&&e(r,t[r])}function e(t,e){if(Array.prototype.indexOf)return t.indexOf(e);for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}function n(t,e,n,r){t._mittyOn=t._mittyOn||[],t._mittyOn.push({listener:e,eventName:n,callback:r})}function r(e,n,r,i){if(e._mittyOn&&e._mittyOn.length){var s={},o=[];n&&(s.listener=n),i&&(s.callback=i),r&&(s.eventName=r),t(e._mittyOn,function(e){var n=!0;t(s,function(t,r){e[t]!==r&&(n=!1)}),!n&&o.push(e)}),e._mittyOn=o}}function i(t,e){if(t._mittyOn)for(var n=0;n<t._mittyOn.length;n++)if(t._mittyOn[n].listener===e)return!0;return!1}function s(n,s,o,a){var u=n._mittyListenTo&&n._mittyListenTo.length>0;s&&u?(r(s,n,o,a),i(s,n)||n._mittyListenTo.splice(e(n._mittyListenTo,s),1)):u&&(t(n._mittyListenTo,function(t){r(t,n)}),n._mittyListenTo=[])}var o={on:function(t,e){return n(this,this,t,e),this},listenTo:function(t,r,i){return n(t,this,r,i),this._mittyListenTo=this._mittyListenTo||[],e(this._mittyListenTo,t)<0&&this._mittyListenTo.push(t),this},off:function(t,e){return r(this,null,t,e),this},stopListening:function(t,e,n){return s(this,t,e,n),this},trigger:function(e,n){return this._mittyOn&&t(this._mittyOn,function(t){t.eventName===e&&t.callback.call(t.listener,n)}),this}};return function(e){return t(o,function(t,n){e[t]=n}),e}})}]);